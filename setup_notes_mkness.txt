Notes from installing Parallel-HDF5, on Linux Mint, around 20 Jun 2014, by Mark Kness:

This requires two components, HDF5, and h5py.

I was not able to get a parallel-enabled HDF5 via 'apt-get install libhdf5-openmpi-dev',
probably because my local apt-get configuration was messed up. So I had to build both from source.

This was complicated, because as of 20 Jun 2014, the latest versions of both HDF5 and h5py have
problems for us. In particular, the master branch of h5py gives errors about failing to close files
due to objects still being open. However, the tag 2.3.0 seems to be ok. However, h5py-2.3.0 does
not work with the latest HDF5-1.8.13. I was able to use HDF5-1.8.12.

I had troubles with multiple versions of these libraries on my system, so I manually found and
removed all hdf5/h5py related files (headers, libraries). After this, I mostly followed Bob Grant's
notes, namely:

HDF5:

CFLAGS=-O0 CC=mpicc ./configure --enable-shared --enable-parallel
make
make check
make install

The tests ('make check') took a while to run, 30 minutes or so. They reported at the end that some
process was killed via alarm clock, but everything else seemed ok.

H5PY:

git clone https://github.com/h5py/h5py.git
HDF5_DIR=/home/mkness/venvs/py2/hdf5-1.8.12/hdf5 CC=mpicc python setup.py build --mpi --hdf5=/home/mkness/venvs/py2/hdf5-1.8.12/hdf5

I did not get any error related to 'MPI Message'. I had to add an extra argument to the build, the '--hdf5'.

python setup.py test
python setup.py install

The test code from below now worked fine.
http://docs.h5py.org/en/latest/mpi.html#using-parallel-hdf5-from-h5py


